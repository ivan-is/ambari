{
  "layouts": [
    {
      "layout_name": "default_yarn_dashboard",
      "display_name": "Standard YARN Dashboard",
      "section_name": "YARN_SUMMARY",
      "widgetLayoutInfo": [
        {
          "widget_name": "Cluster Disk",
          "description": "Sum of disk throughput for all NodeManager hosts.",
          "widget_type": "GRAPH",
          "is_visible": true,
          "metrics": [
            {
              "name": "read_bps._sum",
              "metric_path": "metrics/disk/read_bps._sum",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "write_bps._sum",
              "metric_path": "metrics/disk/write_bps._sum",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "Read throughput",
              "value": "${read_bps._sum/1048576}"
            },
            {
              "name": "Write throughput",
              "value": "${write_bps._sum/1048576}"
            }
          ],
          "properties": {
            "display_unit": "Mbps",
            "graph_type": "LINE",
            "time_range": "1"
          }
        },
        {
          "widget_name": "Memory Used Across Containers",
          "description": "Percentage of total memory allocated to containers running in the cluster.",
          "widget_type": "GAUGE",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedMB",
              "metric_path": "metrics/yarn/Queue/root/AllocatedMB",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            },
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableMB",
              "metric_path": "metrics/yarn/Queue/root/AvailableMB",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Memory Utilization",
              "value": "${(Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedMB / (Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedMB + Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableMB))}"
            }
          ],
          "properties": {
            "display_unit": "MB"
          }
        },
        {
          "widget_name": "CPU Cores Used Across Containers",
          "description": "Percentage of total virtual cores allocated to containers running in the cluster.",
          "widget_type": "GAUGE",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedVCores",
              "metric_path": "metrics/yarn/Queue/root/AllocatedVCores",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            },
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableVCores",
              "metric_path": "metrics/yarn/Queue/root/AvailableVCores",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Total Allocatable CPU Utilized across NodeManager",
              "value": "${(Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedVCores / (Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedVCores + Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableVCores))}"
            }
          ]
        },
        {
          "widget_name": "ResourceManager Heap Usage",
          "description": "ResourceManager Heap Usage",
          "widget_type": "GAUGE",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapUsedM",
              "metric_path": "metrics/jvm/memHeapUsedM",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            },
            {
              "name": "Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapCommittedM",
              "metric_path": "metrics/jvm/memHeapCommittedM",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "ResourceManager Heap Usage",
              "value": "${Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapUsedM / Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapCommittedM}"
            }
          ]
        },

        {
          "widget_name": "Active Cluster Nodes",
          "description": "Active Cluster Nodes",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=ClusterMetrics.NumActiveNMs",
              "metric_path": "metrics/yarn/ClusterMetrics/NumActiveNMs",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Active Cluster Nodes",
              "value": "${Hadoop:service=ResourceManager,name=ClusterMetrics.NumActiveNMs}"
            }
          ]
        },
        {
          "widget_name": "Total Cluster Memory",
          "description": "Total memory allocated for cluster",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedMB",
              "metric_path": "metrics/yarn/Queue/root/AllocatedMB",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            },
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableMB",
              "metric_path": "metrics/yarn/Queue/root/AvailableMB",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Total Cluster Memory",
              "value": "${(Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedMB + Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableMB) / 1000}"
            }
          ],
          "properties": {
            "display_unit": "GB"
          }
        },
        {
          "widget_name": "Total Cluster CPU Cores",
          "description": "Total CPU cores allocated for cluster",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedVCores",
              "metric_path": "metrics/yarn/Queue/root/AllocatedVCores",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            },
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableVCores",
              "metric_path": "metrics/yarn/Queue/root/AvailableVCores",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Total Cluster CPU Cores",
              "value": "${Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AllocatedVCores + Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AvailableVCores}"
            }
          ]
        },
        {
          "widget_name": "ResourceManager Total Heap",
          "description": "ResourceManager Heap",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapCommittedM",
              "metric_path": "metrics/jvm/memHeapCommittedM",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "ResourceManager Heap Usage",
              "value": "${Hadoop:service=ResourceManager,name=JvmMetrics.MemHeapCommittedM}"
            }
          ],
          "properties": {
            "display_unit": "MB"
          }
        },

        {
          "widget_name": "Running Applications",
          "description": "Applications Running on Cluster",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsRunning",
              "metric_path": "metrics/yarn/Queue/root/AppsRunning",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Apps Running",
              "value": "${Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsRunning}"
            }
          ]
        },
        {
          "widget_name": "Pending Applications",
          "description": "Pending Applications",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsPending",
              "metric_path": "metrics/yarn/Queue/root/AppsPending",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Apps Pending",
              "value": "${Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsPending}"
            }
          ]
        },
        {
          "widget_name": "Completed Applications",
          "description": "Completed Applications",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsCompleted",
              "metric_path": "metrics/yarn/Queue/root/AppsCompleted",
              "service_name": "YARN",
              "component_name": "RESOURCEMANAGER",
              "host_component_criteria": "host_components/HostRoles/ha_state=ACTIVE"
            }
          ],
          "values": [
            {
              "name": "Apps Completed",
              "value": "${Hadoop:service=ResourceManager,name=QueueMetrics,q0=root.AppsCompleted}"
            }
          ]
        }
      ]
    },
    {
      "layout_name": "default_yarn_heatmap",
      "display_name": "YARN Heatmaps",
      "section_name": "YARN_HEATMAPS",
      "widgetLayoutInfo": [
        {
          "widget_name": "Total Allocatable RAM Utilized per NodeManager",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": true,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.AllocatedGB",
              "metric_path": "metrics/yarn/AllocatedGB",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.AvailableGB",
              "metric_path": "metrics/yarn/AvailableGB",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "Total Allocatable RAM Utilized per NodeManager",
              "value": "${(yarn.NodeManagerMetrics.AllocatedGB/(yarn.NodeManagerMetrics.AvailableGB + yarn.NodeManagerMetrics.AllocatedGB)) * 100}"
            }
          ],
          "properties": {
            "display_unit": "%",
            "max_limit": "100"
          }
        },
        {
          "widget_name": "Total Allocatable CPU Utilized per NodeManager",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.AllocatedVCores",
              "metric_path": "metrics/yarn/AllocatedVCores",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.AvailableVCores",
              "metric_path": "metrics/yarn/AvailableVCores",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "Total Allocatable CPU Utilized per NodeManager",
              "value": "${(yarn.NodeManagerMetrics.AllocatedVCores/(yarn.NodeManagerMetrics.AllocatedVCores + yarn.NodeManagerMetrics.AvailableVCores)) * 100}"
            }
          ],
          "properties": {
            "display_unit": "%",
            "max_limit": "100"
          }
        },
        {
          "widget_name": "Container Failures",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.ContainersFailed",
              "metric_path": "metrics/yarn/ContainersFailed",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.ContainersCompleted",
              "metric_path": "metrics/yarn/ContainersCompleted",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.ContainersLaunched",
              "metric_path": "metrics/yarn/ContainersLaunched",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.ContainersIniting",
              "metric_path": "metrics/yarn/ContainersIniting",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.ContainersKilled",
              "metric_path": "metrics/yarn/ContainersKilled",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            },
            {
              "name": "yarn.NodeManagerMetrics.ContainersRunning",
              "metric_path": "metrics/yarn/ContainersRunning",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "Container Failures",
              "value": "${(yarn.NodeManagerMetrics.ContainersFailed/(yarn.NodeManagerMetrics.ContainersFailed + yarn.NodeManagerMetrics.ContainersCompleted + yarn.NodeManagerMetrics.ContainersLaunched + yarn.NodeManagerMetrics.ContainersIniting + yarn.NodeManagerMetrics.ContainersKilled + yarn.NodeManagerMetrics.ContainersRunning)) * 100}"
            }
          ],
          "properties": {
            "display_unit": "%",
            "max_limit": "100"
          }
        },
        {
          "widget_name": "NodeManager GC Time",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "Hadoop:service=NodeManager,name=JvmMetrics.GcTimeMillis",
              "metric_path": "metrics/jvm/gcTimeMillis",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "NodeManager Garbage Collection Time",
              "value": "${Hadoop:service=NodeManager,name=JvmMetrics.GcTimeMillis}"
            }
          ],
          "properties": {
            "display_unit": "ms",
            "max_limit": "10000"
          }
        },
        {
          "widget_name": "NodeManager JVM Heap Memory Used",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "Hadoop:service=NodeManager,name=JvmMetrics.MemHeapUsedM",
              "metric_path": "metrics/jvm/memHeapUsedM",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "NodeManager JVM Heap Memory Used",
              "value": "${Hadoop:service=NodeManager,name=JvmMetrics.MemHeapUsedM}"
            }
          ],
          "properties": {
            "display_unit": "MB",
            "max_limit": "512"
          }
        },
        {
          "widget_name": "Allocated Containers",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.AllocatedContainers",
              "metric_path": "metrics/yarn/AllocatedContainers",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "Allocated Containers",
              "value": "${yarn.NodeManagerMetrics.AllocatedContainers}"
            }
          ],
          "properties": {
            "display_unit": "",
            "max_limit": "100"
          }
        },
        {
          "widget_name": "NodeManager RAM Utilized",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.AllocatedGB",
              "metric_path": "metrics/yarn/AllocatedGB",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "NodeManager RAM Utilized",
              "value": "${yarn.NodeManagerMetrics.AllocatedGB}"
            }
          ],
          "properties": {
            "display_unit": "GB",
            "max_limit": "100"
          }
        },
        {
          "widget_name": "NodeManager CPU Utilized",
          "description": "",
          "widget_type": "HEATMAP",
          "is_visible": false,
          "metrics": [
            {
              "name": "yarn.NodeManagerMetrics.AllocatedVCores",
              "metric_path": "metrics/yarn/AllocatedVCores",
              "service_name": "YARN",
              "component_name": "NODEMANAGER"
            }
          ],
          "values": [
            {
              "name": "NodeManager CPU Utilized",
              "value": "${yarn.NodeManagerMetrics.AllocatedVCores}"
            }
          ],
          "properties": {
            "display_unit": "",
            "max_limit": "100"
          }
        }
      ]
    }
  ]
}
