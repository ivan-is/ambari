{
  "layouts": [
    {
      "layout_name": "default_hdfs_dashboard",
      "display_name": "Standard HDFS Dashboard",
      "section_name": "HDFS_SUMMARY",
      "widgetLayoutInfo": [

        {
          "widget_name": "NameNode Host Load",
          "description": "Percentage of CPU and Memory resources being consumed on NameNode host.",
          "widget_type": "GRAPH",
          "is_visible": true,
          "metrics": [
            {
              "name": "cpu_system",
              "metric_path": "metrics/cpu/cpu_system",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "cpu_user",
              "metric_path": "metrics/cpu/cpu_user",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "cpu_nice",
              "metric_path": "metrics/cpu/cpu_nice",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "cpu_idle",
              "metric_path": "metrics/cpu/cpu_idle",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "cpu_wio",
              "metric_path": "metrics/cpu/cpu_wio",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "mem_total",
              "metric_path": "metrics/memory/mem_total",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "mem_free",
              "metric_path": "metrics/memory/mem_free",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            }
          ],
          "values": [
            {
              "name": "CPU utilization",
              "value": "${((cpu_system + cpu_user + cpu_nice)/(cpu_system + cpu_user + cpu_nice + cpu_idle + cpu_wio)) * 100}"
            },
            {
              "name": "Memory utilization",
              "value": "${((mem_total - mem_free)/mem_total) * 100}"
            }
          ],
          "properties": {
            "graph_type": "LINE",
            "time_range": "1",
            "display_unit": "%"
          }
        },
        {
          "widget_name": "NameNode Heap Used",
          "description": "Heap memory committed vs Heap memory used",
          "widget_type": "GAUGE",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=JvmMetrics.MemHeapCommittedM",
              "metric_path": "metrics/jvm/memHeapCommittedM",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "Hadoop:service=NameNode,name=JvmMetrics.MemHeapUsedM",
              "metric_path": "metrics/jvm/memHeapUsedM",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            }
          ],
          "values": [
            {
              "name": "NameNode Heap",
              "value": "${Hadoop:service=NameNode,name=JvmMetrics.MemHeapUsedM / Hadoop:service=NameNode,name=JvmMetrics.MemHeapCommittedM}"
            }
          ]
        },
        {
          "widget_name": "HDFS Disk Used",
          "description": "DFS disk space used",
          "widget_type": "GAUGE",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.CapacityUsedGB",
              "metric_path": "metrics/dfs/FSNamesystem/CapacityUsedGB",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            },
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.CapacityTotalGB",
              "metric_path": "metrics/dfs/FSNamesystem/CapacityTotalGB",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            }
          ],
          "values": [
            {
              "name": "HDFS Disk Used",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.CapacityUsedGB / Hadoop:service=NameNode,name=FSNamesystem.CapacityTotalGB}"
            }
          ]
        },
        {
          "widget_name": "HDFS Total Capacity",
          "description": "Total HDFS disk space",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.CapacityTotalGB",
              "metric_path": "metrics/dfs/FSNamesystem/CapacityTotalGB",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            }
          ],
          "values": [
            {
              "name": "HDFS Disk Used",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.CapacityTotalGB}"
            }
          ],
          "properties": {
            "display_unit": "GB"
          }
        },

        {
          "widget_name": "NameNode Heap Total",
          "description": "Heap memory committed",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=JvmMetrics.MemHeapCommittedM",
              "metric_path": "metrics/jvm/memHeapCommittedM",
              "service_name": "HDFS",
              "component_name": "NAMENODE"
            }
          ],
          "values": [
            {
              "name": "NameNode Heap Committed",
              "value": "${Hadoop:service=NameNode,name=JvmMetrics.MemHeapCommittedM}"
            }
          ],
          "properties": {
            "display_unit": "MB"
          }
        },
        {
          "widget_name": "NameNode Heap Used",
          "description": "Heap memory used",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=JvmMetrics.MemHeapUsedM",
              "metric_path": "metrics/jvm/memHeapUsedM",
              "service_name": "HDFS",
              "component_name": "NAMENODE"
            }
          ],
          "values": [
            {
              "name": "NameNode Heap Used",
              "value": "${Hadoop:service=NameNode,name=JvmMetrics.MemHeapUsedM}"
            }
          ],
          "properties": {
            "display_unit": "MB"
          }
        },
        {
          "widget_name": "Total HDFS Files",
          "description": "Total HDFS Files",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.FilesTotal",
              "metric_path": "metrics/dfs/FSNamesystem/FilesTotal",
              "service_name": "HDFS",
              "component_name": "NAMENODE"
            }
          ],
          "values": [
            {
              "name": "HDFS Total Files",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.FilesTotal}"
            }
          ]
        },
        {
          "widget_name": "Total HDFS Blocks",
          "description": "Total HDFS Blocks",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.BlocksTotal",
              "metric_path": "metrics/dfs/FSNamesystem/BlocksTotal",
              "service_name": "HDFS",
              "component_name": "NAMENODE"
            }
          ],
          "values": [
            {
              "name": "HDFS Total Blocks",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.BlocksTotal}"
            }
          ]
        },

        {
          "widget_name": "Blocks With Corrupted Replicas",
          "description": "Number represents data blocks with at least one corrupted replica (but not all of them). Its indicative of HDFS bad health.",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.CorruptBlocks",
              "metric_path": "metrics/dfs/FSNamesystem/CorruptBlocks",
              "service_name": "HDFS",
              "component_name": "NAMENODE"
            }
          ],
          "values": [
            {
              "name": "Blocks With Corrupted Replicas",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.CorruptBlocks}"
            }
          ],
          "properties": {
            "warning_threshold": "0",
            "error_threshold": "50"
          }
        },
        {
          "widget_name": "Under Replicated Blocks",
          "description": "Number represents file blocks that does not meet the replication factor criteria. Its indicative of HDFS bad health.",
          "widget_type": "NUMBER",
          "is_visible": true,
          "metrics": [
            {
              "name": "Hadoop:service=NameNode,name=FSNamesystem.UnderReplicatedBlocks",
              "metric_path": "metrics/dfs/FSNamesystem/UnderReplicatedBlocks",
              "service_name": "HDFS",
              "component_name": "NAMENODE",
              "host_component_criteria": "host_components/metrics/dfs/FSNamesystem/HAState=active"
            }
          ],
          "values": [
            {
              "name": "Under Replicated Blocks",
              "value": "${Hadoop:service=NameNode,name=FSNamesystem.UnderReplicatedBlocks}"
            }
          ]
        }
      ]
    }
  ]
}
